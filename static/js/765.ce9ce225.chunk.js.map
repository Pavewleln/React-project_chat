{"version":3,"file":"static/js/765.ce9ce225.chunk.js","mappings":"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","sources":["webpack://react-project-1/./src/components/Users/Users.module.css?b9d0","components/Users/Paginate.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"h_title\":\"Users_h_title__XcHRB\",\"pagination\":\"Users_pagination__mAIA-\",\"checked\":\"Users_checked__R98k-\",\"users\":\"Users_users__pw8ku\",\"photo\":\"Users_photo__ojk3r\",\"user\":\"Users_user__HY7b2\",\"title\":\"Users_title__SXIOK\",\"description\":\"Users_description__RLkHj\",\"location\":\"Users_location__A6hs9\",\"follow\":\"Users_follow__6LQs2\",\"unfollow\":\"Users_unfollow__SgVWE\",\"name\":\"Users_name__dQJBk\",\"next\":\"Users_next__3AyPF\",\"prev\":\"Users_prev__vqlzq\"};","import React, {useState} from 'react';\r\nimport s from \"./Users.module.css\";\r\n\r\nfunction Paginate(props,\r\n                  currentPage = 1,\r\n                  onPageChanged = x => x,\r\n                  portionSize = 10) {\r\n\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return (\r\n        <div className={s.pagination}>\r\n\r\n            { portionNumber > 1 &&\r\n                <button className={s.prev} onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button> }\r\n\r\n            {pages\r\n                .filter(p => p >= leftPortionPageNumber && p<=rightPortionPageNumber)\r\n                .map(p => {\r\n                return (<span key={p.id} className={(props.currentPage) === p && s.checked} onClick={(e) => {props.onPageChanged(p)}}>{p}</span>);\r\n            })}\r\n\r\n            { portionCount > portionNumber &&\r\n                <button className={s.next} onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button> }\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Paginate;","import React from 'react';\nimport s from './Users.module.css';\nimport photoUsersDefault from '../../img/Users/default-users-photo.png';\nimport {NavLink} from \"react-router-dom\";\nimport Preloader from \"../common/preloader\";\nimport Paginate from \"./Paginate\";\n\n\nlet Users = (props) => {\n\n    return (<div className={s.users}>\n        <h3 className={s.h_title}>Пользователи сети</h3>\n        {/*Пагинация*/}\n        <Paginate {...props}/>\n        {/*Пользователи*/}\n        {props.isFetching ? <Preloader/> :\n        props.users.map((u) => {\n            return (<div className={s.user} key={u.id}>\n                <div className={s.title}>\n                    <div className={s.photo}>\n                        <NavLink to={'/profile/' + u.id}>\n                            <img src={u.photos.small != null ? u.photos.small : photoUsersDefault} alt='Картинка'/>\n                        </NavLink>\n                    </div>\n                    <div className={s.following}>\n                        {u.followed\n                            ? <button disabled={props.followingInProgress.some(id => id === u.id)} onClick={() => {props.unfollow(u.id)}} className={s.unfollow}>Удалить из друзей</button>\n                            : <button disabled={props.followingInProgress.some(id => id === u.id)} onClick={() => {props.follow(u.id)}} className={s.follow}>Добавить в друзья</button>}\n                    </div>\n                </div>\n                <div className={s.description}>\n                    <div className={s.name}>\n                        {u.name}\n                    </div>\n                    <div className={s.status}>{u.status}</div>\n                </div>\n                <div className={s.location}>\n                        <span className={s.country}>\n                            {/*{u.location.country}*/}\n                        </span>\n                    {/*Пробел*/}\n                    ,&nbsp;\n                    {/*Пробел*/}\n                    <span className={s.city}>\n                            {/*{u.location.city}*/}\n                        </span>\n                </div>\n            </div>)\n        })}\n    </div>);\n}\n\nexport default Users;","export const getUsers = (state) =>{\n    return state.usersPage.users\n}\nexport const getPageSize = (state) =>{\n    return state.usersPage.pageSize\n}\nexport const geTotalUsersCount = (state) =>{\n    return state.usersPage.totalUsersCount\n}\nexport const getCurrentPage = (state) =>{\n    return state.usersPage.currentPage\n}\nexport const getIsFetching = (state) =>{\n    return state.usersPage.isFetching\n}\nexport const getFollowingInProgress = (state) =>{\n    return state.usersPage.followingInProgress\n}\n","import React from 'react';\nimport Users from './Users';\nimport {connect} from 'react-redux';\nimport {\n    follow, unfollow, getUsersThunk, setCurrentPage, toggleFollowingProgress, onPageChangedThunk\n} from \"../../redux/users-reducer\";\nimport Preloader from \"../common/preloader\";\nimport {compose} from \"redux\";\nimport {\n    getCurrentPage,\n    getFollowingInProgress,\n    getIsFetching,\n    geTotalUsersCount,\n    getPageSize,\n    getUsers\n} from \"../../redux/users-selectors\";\n\nclass UsersAPIComponent extends React.Component {\n    componentDidMount() {\n        this.props.getUsersThunk(this.props.currentPage, this.props.pageSize)\n    }\n\n    onPageChanged = (pageNumber) => {\n        this.props.onPageChangedThunk(pageNumber, this.props.pageSize)\n    }\n\n    render() {\n        return <>\n            <Users\n                users={this.props.users}\n                pageSize={this.props.pageSize}\n                totalUsersCount={this.props.totalUsersCount}\n                currentPage={this.props.currentPage}\n                follow={this.props.follow}\n                unfollow={this.props.unfollow}\n                onPageChanged={this.onPageChanged}\n                isFetching={this.props.isFetching}\n                followingInProgress={this.props.followingInProgress}\n            />\n        </>\n    }\n}\n\n// let mapStateToProps = (state) => {\n//     return {\n//         users: state.usersPage.users,\n//         pageSize: state.usersPage.pageSize,\n//         totalUsersCount: state.usersPage.totalUsersCount,\n//         currentPage: state.usersPage.currentPage,\n//         isFetching: state.usersPage.isFetching,\n//         followingInProgress: state.usersPage.followingInProgress\n//     }\n// }\n\nlet mapStateToProps = (state) => {\n    return {\n        users: getUsers(state),\n        pageSize: getPageSize(state),\n        totalUsersCount: geTotalUsersCount(state),\n        currentPage: getCurrentPage(state),\n        isFetching: getIsFetching(state),\n        followingInProgress: getFollowingInProgress(state)\n\n    }\n}\n\nexport default compose(connect(mapStateToProps, {\n    follow, unfollow, setCurrentPage, toggleFollowingProgress, getUsersThunk, onPageChangedThunk\n}))(UsersAPIComponent);"],"names":["props","portionSize","pagesCount","Math","ceil","totalUsersCount","pageSize","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","s","onClick","filter","p","map","currentPage","e","onPageChanged","id","isFetching","users","u","to","src","photos","small","alt","followed","disabled","followingInProgress","some","unfollow","follow","name","status","getUsers","state","usersPage","getPageSize","geTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersAPIComponent","pageNumber","onPageChangedThunk","this","getUsersThunk","React","compose","connect","setCurrentPage","toggleFollowingProgress"],"sourceRoot":""}